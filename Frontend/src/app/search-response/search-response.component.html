<div class="container">
  <app-header></app-header>
  <div class="row">
    <nav class="nav nav-tabs mt-3 ">
      <a routerLink="/search" routerLinkActive="passive" class="nav-item nav-link">
        <i class="bi-house-door"></i> Search
      </a>
      <a routerLink="/search/response" routerLinkActive="active" class="nav-item nav-link">
        <i class="bi-person"></i> Search Result
      </a>
    </nav>
  </div>

  <router-outlet></router-outlet>
</div>

<div class="container">
  <div class="mt-4 table-wrapper-scroll-y my-custom-scrollbar">
    <!-- Test accordion-->
    <div class="accordion accordion-flush" id="accordion">
      <div class="accordion-item" *ngFor="let response of responses | paginate : {
                itemsPerPage: tableSize,
                currentPage: page,
                totalItems: count
              };
        let i = index" [class.active]="i == i">
        <h2 class="accordion-header" [attr.id]="'flush-heading'+i">
          <button class="accordion-button collapsed" type="button" [attr.data-bs-toggle]="'collapse'" [attr.data-bs-target]="'#flush-collapse'+i" [attr.aria-expanded]="'false'" [attr.aria-controls]="'flush-collapse'+i">
            {{response.api}} : {{response.request}}
          </button>
        </h2>
        <div [attr.id]="'flush-collapse'+i" class="accordion-collapse collapse" [attr.aria-labelledby]="'flush-heading'+i" [attr.data-bs-parent]="'#accordion'">
          <div class="accordion-body">
            <strong>{{response.firstName}}</strong><br>
            <strong>{{response.lastName}}</strong><br>
            <strong>{{response.email}}</strong><br>
            <strong>{{response.licenceNumber}}</strong><br>
            <strong>{{response.registrationNumber}}</strong><br>
            <strong>{{response.birthDate}}</strong></div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-center">
    <pagination-controls
      previousLabel="Prev"
      nextLabel="Next"
      (pageChange)="onTableDataChange($event)">
    </pagination-controls>
  </div>
</div>

