<form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="form.controls">
  <div class="row mb-3">
    <label class="col-sm-4 col-form-label ln">First name:</label>
    <div class="col-sm-8">
      <input class="form-control" formControlName="firstName" type="text" value="{{firstNameToForm}}"
             [ngClass]="{'is-invalid': f['firstName'] && f['firstName'].errors}"
      />
      <div *ngIf="f['firstName'] && f['firstName'].errors" class="invalid-feedback">
        <div *ngIf="f['firstName'].errors['minlength']">
          First Name must be at least 2 characters
        </div>
        <div *ngIf="f['firstName'].errors['maxlength']">
          First Name must not exceed 20 characters
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-3">
    <label class="col-sm-4 col-form-label ln">Last name:</label>
    <div class="col-sm-8">
      <input [ngClass]="{'is-invalid': f['lastName'] && f['lastName'].errors}"
             class="form-control" formControlName="lastName" type="text" value="{{lastNameToForm}}"
      />
      <div *ngIf="f['lastName'] && f['lastName'].errors" class="invalid-feedback">
        <div *ngIf="f['lastName'].errors['minlength']">
          Last Name must be at least 2 characters
        </div>
        <div *ngIf="f['lastName'].errors['maxlength']">
          Last Name must not exceed 20 characters
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-3">
    <label class="col-sm-4 col-form-label ln">Email:</label>
    <div class="col-sm-8">
      <input class="form-control" formControlName="email" type="email" value="{{emailToForm}}"
             [ngClass]="{'is-invalid': f['email'] && f['email'].errors}"
      />
      <div *ngIf="f['email'] && f['email'].errors" class="invalid-feedback">
        <div *ngIf="f['email'].errors['email']">
          Email is incorrect
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-3">
    <label class="col-sm-4 col-form-label ln">Role:</label>
    <div class="col-sm-7">
      <div class="form-check form-switch">
        <input class="form-check-input" formControlName="userManager" type="checkbox"
               role="switch" id="forUserManager" [checked]="isUserAdminToForm ? true : null">
        <label class="form-check-label" for="forUserManager">User Manager</label>
      </div>

      <div class=" form-check form-switch">
        <input class="form-check-input" formControlName="schemaManager" type="checkbox"
               role="switch" id="forSchemaManager" [checked]="isSchemaAdminToForm ? true: null">
        <label class="form-check-label" for="forSchemaManager">Schema Manager</label>
      </div>
      <div class="form-check form-switch">
        <input class="form-check-input"  formControlName="user" type="checkbox"  role="switch" id="forUser"
               [checked]="isUserToForm ? true: null">
        <label class="form-check-label" for="forUser">User</label>
      </div>
    </div>


  </div>


  <div class="d-flex justify-content-center" (change)="onSubmit()">
    <button  class="btn btn-outline-success" [disabled]="!form.valid">
      Update
    </button>
  </div>
</form>
<div *ngIf="spinner">
  <app-spinner class="modalSpinner"></app-spinner>
</div>


